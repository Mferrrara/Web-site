DROP TABLE IF EXISTS utente cascade;
DROP TABLE IF EXISTS gioco cascade;
DROP TABLE IF EXISTS lingua cascade;
DROP TABLE IF EXISTS piattaforma cascade;
DROP TABLE IF EXISTS commento cascade;

create table utente(
username varchar(20) primary key,
email varchar(30) unique not null,
nome varchar(20) not null,
cognome varchar(20) not null,
password varchar(255) not null,
datadinascita date not null
);

create table gioco(
nome varchar(50) primary key,
produttore varchar(50) not null,
categoria varchar(20) not null,
descrizione varchar(50000),
immagine varchar(200) not null,
giochiEspositivi boolean
);

create table lingua(
nomeLingua varchar(20),
giocoAssociato varchar(50),
foreign key (giocoAssociato) references gioco(nome),
primary key(nomeLingua,giocoAssociato)
);

create table piattaforma(
nomePiattaforma varchar(20),
giocoAssociato varchar(50),
foreign key (giocoAssociato) references gioco(nome),
primary key(nomePiattaforma,giocoAssociato)
);
create table commento(
nomeUtente varchar(20),
nomeGioco varchar(50),
descrizioneCommento varchar(50000),
foreign key (nomeUtente) references utente(username),
foreign key (nomeGioco) references gioco(nome),
primary key (nomeUtente,nomeGioco)
);

GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO www;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO www;

insert into utente values ('pippo22','pippo@gmail.com','franco','gingio','1234','1999-02-03'),('carlo22','carlo@gmail.com','carlo','Nuno','13874','1997-02-03'),('federico22','federico@gmail.com','federico','gingio','123344','1998-02-03');
insert into gioco values ('Resident Evil Village','Capcom','Horror','Resident Evil Village è il capitolo più celebrativo della serie. Nasce sì, come ottavo, ponendosi come seguito diretto di Resident Evil 7, ma riprende molti degli elementi dei migliori episodi della saga, amalgamandoli tra di loro e innestandoli in un contesto gotico inedito, mai così preponderante. Lo si può affrontare senza aver goduto dei predecessori, tanto è vero che un piccolo filmato riassuntivo vi darà un’infarinatura della storia. Funge però più da rinfresco che da vero ponte di collegamento, ma è più che sufficiente per godersi l’ottavo capitolo.','ReV.jpg',false),('A Hat in Time','Gears for Breakfast','Platform',' A Hat in Time è un platform 3D terribilmente grazioso che vede protagonista una bambina che confeziona cappelli per ottenere strepitosi poteri! Esplora a piacere mastodontici mondi e recupera le schegge del tempo per viaggiare verso nuovi orizzonti!','A Hat in Time.jpg',false),('Nioh','Koei Tecmo','Azione','Sfodera la tua spada: brutali scontri ti attendono dietro ogni angolo in questo GdR d''azione ambientato in una terra devastata da una guerra civile.Per trionfare, dovrai armarti di pazienza per scoprire i punti di forza di ogni nemico, umano o demone che sia, e imparare quando colpire per sfruttare le loro debolezze.Ogni sconfitta è un passo avanti nel tuo cammino verso la vittoria. Solo nella morte potrai trovare la via del samurai.','Nioh.jpg',false),('The Legend of Zelda: BotW','Nintendo','Avventura','Dimentica tutto quello che sai sui giochi di The Legend of Zelda e immergiti in un mondo di scoperte, esplorazione e avventura in The Legend of Zelda: BotW, il nuovo capitolo di questa amatissima serie. Attraversa campi, foreste e montagne mentre cerchi di capire cosa è successo al regno di Hyrule in questa enorme, straordinaria avventura.Scala torri e montagne in cerca di nuove destinazioni, poi scegli un percorso per raggiungerle e parti all''avventura. Lungo la strada affronterai nemici giganteschi, caccerai animali selvatici e raccoglierai il cibo e le pozioni che ti servono per sopravvivere.Il mondo cela tanti sacrari, che potrai esplorare nell''ordine che preferisci. Al loro interno troverai enigmi di vario tipo. Supera le trappole e le sorprese che ti aspettano al varco per ottenere oggetti speciali e altre ricompense che ti aiuteranno nei tuoi viaggi.Con un intero mondo da esplorare, avrai certamente bisogno di varie tenute e dell''equipaggiamento adatto. Potresti dover indossare degli abiti caldi per proteggerti dal freddo o dei vestiti più leggeri quando sei nel deserto. Alcuni abiti hanno anche effetti speciali che possono renderti, per esempio, più veloce e furtivo.Incontrerai nemici di tutti i tipi e le dimensioni. Ognuno avrà attacchi e armi diverse, quindi devi pensare rapidamente e sviluppare le tattiche giuste per sconfiggerli.','TLoZ_Botw.jpg',false),('Doom Eternal','Bethesda','FPS','Le armate infernali hanno invaso la Terra. Diventa lo Slayer in un’epica campagna per giocatore singolo, conquista demoni attraverso le dimensioni e ferma la distruzione finale dell’umanità.L’unica cosa che temono... sei tu.Vivi l’ultima combinazione di velocità e potenza in DOOM Eternal, un passo avanti nel combattimento aggressivo in prima persona.Scopri le origini dello Slayer e la sua missione per INCENERIRE L’INFERNO.','Doom Eternal.jpg',false);
insert into gioco values ('Grand Theft Auto V','Rockstar Games','Azione','Grand Theft Auto 5 è ambientato nell''enorme Los Santos; il gioco ci metterà nei panni di tre diversi protagonisti, Michael, Trevor e Franklin, ognuno con una propria determinata personalità ed un''esistenza con cui fare i conti. Schizzando dall''uno all''altro potremo dedicarci alle più disparate attività criminali, organizzando poi dei colpi che dovremo affrontare usando coordinatamente tutti e tre i personaggi principali.','gta5.jpg',true),('Dark Souls III','FromSoftware','Azione','Dark Souls continua il suo percorso di innovazione in questo ultimo, ambizioso capitolo della saga acclamata da pubblico e critica. Preparati... e affronta l''oscurità!','Ds3.jpg',true),('The Binding of Isaac','Edmund McMillen','Avventura','The Binding of Isaac è un''avventura dinamica nel quale il giocatore controlla il protagonista o uno dei personaggi sbloccabili durante l''esplorazione dei livelli ambientati nella cantina della madre.','Tboi.jpg',true),('Age of Empires II: Definitive Edition','Microsoft Corporation','Strategia','Age of Empires II è un videogioco strategico in tempo reale sviluppato da Ensemble Studios e pubblicato da Microsoft Corporation nel 1999 per Microsoft Windows e Mac OS. Ambientato nel medioevo, ebbe un enorme successo ed è generalmente considerato una pietra miliare del suo genere.','AoE.jpg',true),('Tekken 7','Bandai Namco','Picchiaduro','Scopri l''epica conclusione della lunga faida della famiglia Mishima. Sfruttando l''Unreal Engine 4, il leggendario gioco di combattimenti torna con stupefacenti battaglie cinematiche narrative e intensi duelli da vivere con amici e rivali','Tekk7.jpg',true),('Assassin''s Creed: Valhalla','Ubisoft','Azione','Vesti i panni di Eivor, combattente senza paura e leggenda tra tutti i vichinghi. Conduci il tuo clan dal desolante gelo della Norvegia fino al cuore delle praterie dell''Inghilterra del nono secolo. Fonda il tuo insediamento e parti alla conquista di una terra ostile con ogni mezzo necessario: tutto pur di ottenere la gloria del Valhalla.Nell''epoca dei vichinghi l''Inghilterra è una nazione divisa, in cui ciascun regno è pronto a muovere guerra al vicino. Questo caos cela una terra ricca e sorprendente, che attende solo di essere conquistata. Sarai tu a farlo?','AcV.jpg',true),('Red Dead Redemption II','Rockstar Games','Avventura','America, 1899. L''era del selvaggio West è agli sgoccioli. Dopo un colpo andato storto nella città di Blackwater, Arthur Morgan e la banda di Van der Linde sono costretti alla fuga. Con gli agenti federali e i migliori cacciatori di taglie alle costole, la banda deve rapinare, combattere e rubare per farsi strada e cercare di sopravvivere nel cuore di un''America dura e selvaggia. Una serie di conflitti e divisioni rischiano di mettere a repentaglio l''unità del gruppo, e Arthur si ritrova costretto a scegliere tra i suoi ideali e la lealtà nei confronti della banda che l''ha cresciuto.','RDR2.jpg',true),('Call of Duty: Black Ops Cold War','Activision','FPS','Call of Duty: Black Ops Cold War, è un videogioco sparatutto in prima persona, sviluppato da Treyarch. Ufficializzato il 21 agosto 2020, è stato pubblicato da Activision il 13 novembre 2020','Cod_CW.jpg',true),('Battlefield V','Electronic Arts','FPS','Battlefield V è uno sparatutto in prima persona, sviluppato da Digital Illusions Creative Entertainment (DICE) e pubblicato da Electronic Arts. È il sedicesimo capitolo della serie Battlefield.','Bf5.jpg',true),('FIFA 21','Electronic Arts','Sport','FIFA 21 è un videogioco di Sport sviluppato da EA Sports, è il ventottesimo capitolo della serie FIFA, è stato presentato il 18 giugno 2020 all''EA Play Live che si è svolto sull''account ufficiale EA Sports sulla piattaforma Twitch a causa della pandemia di COVID-19','FIFA21.jpg',true);
insert into lingua values ('Italiano','Resident Evil Village'),('Inglese','Resident Evil Village'),('Tedesco','Resident Evil Village'),('Spagnolo','Resident Evil Village'),('Giapponese','Resident Evil Village'),('Polacco','Resident Evil Village'),('Russo','Resident Evil Village'),('Italiano','Grand Theft Auto V'),('Inglese','Grand Theft Auto V'),('Tedesco','Grand Theft Auto V'),('Spagnolo','Grand Theft Auto V'),('Giapponese','Grand Theft Auto V'),('Polacco','Grand Theft Auto V'),('Russo','Grand Theft Auto V'),('Italiano','The Legend of Zelda: BotW'),('Inglese','The Legend of Zelda: BotW'),('Russo','The Legend of Zelda: BotW'),('Francese','The Legend of Zelda: BotW'),('Italiano','A Hat in Time'),('Inglese','A Hat in Time'),('Italiano','Nioh'),('Inglese','Nioh'),('Cinese','Nioh'),('Russo','Nioh'),('Francese','Nioh'),('Italiano','Doom Eternal'),('Inglese','Doom Eternal'),('Russo','Doom Eternal'),('Italiano','Dark Souls III'),('Inglese','Dark Souls III'),('Cinese','Dark Souls III'),('Inglese','The Binding of Isaac'),('Coreano','The Binding of Isaac'),('Italiano','Tekken 7'),('Inglese','Tekken 7'),('Cinese','Tekken 7'),('Giapponesse','Tekken 7'),('Inglese','Age of Empires II: Definitive Edition'),('Italiano','Assassin''s Creed: Valhalla'),('Inglese','Assassin''s Creed: Valhalla'),('Russo','Assassin''s Creed: Valhalla'),('Italiano','Red Dead Redemption II'),('Inglese','Red Dead Redemption II'),('Arabo','Red Dead Redemption II'),('Cinese','Red Dead Redemption II'),('Inglese','Call of Duty: Black Ops Cold War'),('Giapponese','Call of Duty: Black Ops Cold War'),('Italiano','Battlefield V'),('Inglese','Battlefield V'),('Italiano','FIFA 21'),('Inglese','FIFA 21'),('Russo','FIFA 21');
insert into piattaforma values('Pc','Grand Theft Auto V'),('Ps5','Grand Theft Auto V'),('Xbox One','Grand Theft Auto V'),('Ps4','Grand Theft Auto V'),('Ps4','Resident Evil Village'),('Ps5','Resident Evil Village'),('Xbox One','Resident Evil Village'),('Xbox X|S','Resident Evil Village'),('Nintendo Switch','The Legend of Zelda: BotW'),('Pc','A Hat in Time'),('Ps4','Nioh'),('Pc','Nioh'),('Ps5','Nioh'),('Pc','Doom Eternal'),('Ps5','Doom Eternal'),('Ps4','Doom Eternal'),('Nintendo Switch','Doom Eternal'),('Xbox X|S','Doom Eternal'),('Nintendo Switch','Dark Souls III'),('Pc','Dark Souls III'),('Ps4','Dark Souls III'),('Xbox One','Dark Souls III'),('Pc','The Binding of Isaac'),('Pc','Tekken 7'),('Ps4','Tekken 7'),('Xbox One','Tekken 7'),('Pc','Age of Empires II: Definitive Edition'),('Xbox One','Assassin''s Creed: Valhalla'),('Ps5','Assassin''s Creed: Valhalla'),('Ps4','Assassin''s Creed: Valhalla'),('Xbox X|S','Assassin''s Creed: Valhalla'),('Pc','Red Dead Redemption II'),('Ps4','Red Dead Redemption II'),('Xbox One','Red Dead Redemption II'),('Pc','Call of Duty: Black Ops Cold War'),('Xbox One','Call of Duty: Black Ops Cold War'),('Ps5','Call of Duty: Black Ops Cold War'),('Pc','Battlefield V'),('Ps4','Battlefield V'),('Xbox One','Battlefield V'),('Ps5','FIFA 21'),('Xbox One','FIFA 21'),('Nintendo Switch','FIFA 21');
insert into commento values('pippo22','Grand Theft Auto V','A causa di uno stop forzato mi sono voluto regalare questo titolo dopo anni e anni di stop dai videogiochi!GTA rimane sempre GTA... passare dalla playstation 2 a questo, ovviamente, è sorprendente!!Bel titolo, bella grafica e bella storia.. è come giocare un film! Sono rimasto soddisfatto!'),('carlo22','Grand Theft Auto V','gioco molto carino , le spiegazioni sono tutte in italiano ma nel display durante il gioco parla in inglese ma con tutti sottotitoli in italiano, si puo''giocare sia off-line che on-line scaricando gli aggiornamenti, buonissima grafica.... insomma un gioco che consiglio'),('federico22','Grand Theft Auto V','Lo posseggo già sin dall''uscita. Nei vari anni non ha mai deluso. Sempre aggiornato, contemporaneo, pieno di cose zeppe da fare (almeno per il reparto online). Molto carente la parte offline, una volta finita la storia, di fatto, non c''è nulla da fare. Grafica stupenda, fisica stupenda. La cosa che non ti fa stancare mai di questo gioco è che racchiude un po tutti i giochi esistenti: gare automobilistiche, aeree, d''acqua, sterrato; missioni d''azione, colpi strategici e tattici; open world, acquisto immobili, creazioni di aziende e produzione-vendita beni; parco auto immenso (peccato non ci siano i diritti per le auto vere, ma tutto sommato molte auto sono simili alla realtà). Potrei continuare ad oltranza, di caratteristiche non si finisce mai di trovarle.'),('pippo22','The Legend of Zelda: BotW','Sono riuscito ad apprezzare al 100% questo gioco senza MAI aver giocato nessun altro Zelda, immedesimandomi nel protagonista che recuperava la memoria, dato che non conoscevo per nulla la storia. Anche per questo motivo reputo Breath of the Wild un capolavoro.La grafica è semplice, ma fa emozionare, è bellissima. Personalmente mi ha ricordato le atmosfere di "La Principessa Mononoke" e gli altri film dello Studio Ghibli.La fisica e le interazioni con l''ambiente sono qualcosa di mai visto in maniera così completa.Questo è un capolavoro, non mi dilungo, ci sono centinaia di recensioni on-line e su YouTube.'),('federico22','The Legend of Zelda: BotW','Citato un po ovunque come capolavoro, non mi ha suscitato questo effetto, anzi ci sono problemi nell''approccio non da poco'),('federico22','Nioh','Gioco carino, molto lungo e sistema di combattimento interessante! Simil-dark souls hai attacco leggero e pesante (e quindi combo) ma con 3 posizioni della spada (o dell''arma scelta) modificabili in combattimento: questo apre a molte opportunità per affrontare il nemico. Per il resto ho un po'' sofferto la presenza soffocante di loot pressoché inutili: armature e armi ci piovono addosso e sono tutte identiche (ma salgono di livello).'),('carlo22','Nioh','Se non vi piacciono i dark souls e non vi piace prendere il calendario ed elencare i santi uno per uno vi consiglio di non comprarlo.'),('federico22','Tekken 7','Tekken 7 è l''ultimo capitolo della famosa saga picchiaduro e come sempre offre un gameplay solido e collaudato, forse senza particolari modalità e varietà ma tecnicamente splendido e soprattutto molto divertente.'),('pippo22','Tekken 7','Con il 7 Tekken è la solita minestra riscaldata. La grafica non stupisce assolutamente e i personaggi hanno movimenti legnosi e la faccia ebete: sembrano tutti cinquantenni ritoccati con botox, il design dei menù è orrendo. Mortal Kombat 11 in confronto è un capolavoro di programmazione.'),('carlo22','FIFA 21','Gioco praticamente identico al 20 e anche al 19 (dove però non c’è volta)...per chi ha il 20 lasci perdere l’acquisto..'),('pippo22','FIFA 21','Parto col dire che se non ci fosse stata la modalità volta, non l''avrei acquistato, mi sarei tenuto la versione dello scorso anno, è forse avrei fatto bene, sulla modalità volta, mancano molte cose che nella precedente versione c''erano ed erano delle chicche interessanti, come le magliette di fifa, le miriadi di volti, palloni, scarpe, ecc, la storia di Kaka, non è un granché mi sarei aspettato qualcosa di più, come mi aspettavo lo scorso anno, giocare a volta mi diverte e mi fa sudare parecchio in certi metchup, adoro portare le donne alla vittoria, ma il fatto che manca anche le nazionali femminili, il piatto forte dello scorso anno è svanito. Il resto non è cambiato nulla, eccetto una piccola modifica sulla modalità carriera, dove puoi fare le partite in stile football manager, e subentrare quando le cose si mettono male, ottimo per non dover giocare tutte le partite con squadre mediocri.'),('pippo22','Resident Evil Village','Non si può parlare di vera e propria recensione in quanto sono ancora alla parte iniziale, quindi mi riservo delle aggiunte in futuro, ma già da ora posso sicuramente affermare che questo gioco è molto coinvolgente e curatissimo nelle meccaniche della giocabilità, negli ambienti, nei minimi dettagli grafici, nella proposizione dei protagonisti, dei comprimari e dei nemici.'),('carlo22','Resident Evil Village','Lo trovo facile, superficiale, sbalorditivo graficamente ma manca di sostanza, di trama, di suspence che ritrovo ancora nei classici RE 1 2 e tre nemesis, gli originali ps1 che oggi a giocarci su grande schermo sembrano minecraft tutti pixellati.'),('pippo22','Doom Eternal','In pratica la campagna è tutta una sequenza di miniarene in cui si è costretti ad andare sempre incontro ai nemici affinché rilascino proiettili e salute. Zero strategia, non si capisce quasi nulla, si va addosso ai nemici e basta. Si viene colpiti ma si recupera l’energia con l’uccisione ravvicinata. Pessimo; ho giocato a tutti i Doom della storia, questo è il solo che ho rivenduto.'),('carlo22','Doom Eternal','Il titolo non delude le aspettative, dopo 4 anni di attesa per il suo sviluppo, come da migliore tradizione ID software.La storia è sempre lineare, ma è robusta come nel precedente reboot, lasciando la possibilità al giocatore di esplorare in ogni minimo dettaglio le varie ambientazioni.'),('federico22','Red Dead Redemption II','Ecco un gioco ancora una volta della casa RockStar che lascia a bocca aperta!Perfetto, grafica mozzafiato, interazione con tutti gli oggetti presenti, la possibilità di interagire con chiunque, un vero e proprio capolavoro.'),('carlo22','Red Dead Redemption II','Grandi aspettative deluse durante la prima ora di gioco.'),('carlo22','Call of Duty: Black Ops Cold War','Molto macchinoso e difficile da capire, soprattutto il non poter giocare in due a zombie da offline fa perdere tutto.'),('federico22','Call of Duty: Black Ops Cold War','Grafica pazzesca, fatto benissimo! Consigliato, non delude gli appassionati della saga call of duty'),('pippo22','Dark Souls III','Pazienza. Questa è la parola d''ordine per ogni gioco della saga dei Souls.Vuoi metterti alla prova? Credi che ormai i giochi sono diventati facili e alla portata di tutti? Eccoti la risposta.Qui gli errori si pagano ed anche caro, anche il più facile dei bot può essere pericoloso e letale se lo si affronta senza usare la materia grigia.All''inizio (se siete alla vostra prima volta con questa serie) potreste trovarvi disorientati da tanta crudeltà nei vostri confronti, ma vi assicuro che la pazienza ripaga sempre, quindi tenete duro e proseguite il viaggio...'),('federico22','Dark Souls III','Ho circa 600 ore di dolore, morte, sofferenza, resurrezione, vittoria e dannazione passate sui Souls e avevo grandi aspettative e so esattamente cosa vuol dire DARK SOUL. Comincio col dire che il sonoro e il primo impatto sulla grafica sono eccezionali. Però morire inutilmente perchè la armi dei nemici trapassano i muri, dietro i quali ti proteggi, proprio non mi piace.'),('pippo22','Battlefield V','Quest''anno Battlefield mi ha veramente deluso molto. Non lo dico perché sono uno che gioca a Call of Duty perché anzi ho sempre comprato sia Call of Duty che Battlefield, amo veramente questi due grandi titoli.Battlefield 5 mi ha deluso veramente molto quest''anno perché in confronto a Battlefield 1 ci sono veramente tante pecche!'),('carlo22','Battlefield V','Grafica straordinaria, Campagna per nulla accessoria, Collezionabili, Personalizzazione, Multiplayer destinato a venire espanso e aggiornato per minimo due anni e a titolo sempre interamente gratuito. Di cosa vogliamo/possiamo lamentarci? Un capolavoro');

select lingua.giocoAssociato,gioco.immagine
from lingua join gioco on (gioco.nome=lingua.giocoAssociato)
where lingua.nomeLingua = 'Italiano'

select piattaforma.giocoAssociato,gioco.immagine
from piattaforma join gioco on (gioco.nome=piattaforma.giocoAssociato)
where piattaforma.nomePiattaforma = 'Ps4'

select gioco.nome,gioco.immagine
from gioco
where gioco.categoria='Avventura'

select * from lingua;
select * from utente;
select * from gioco;
select * from commento;
select * from piattaforma;